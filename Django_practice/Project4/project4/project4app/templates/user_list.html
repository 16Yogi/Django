{% extends 'layout.html' %}
{% block title %}
User List
{% endblock %}

{% block content %}
<h2>User List Page</h2>
<hr>
<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Username</th>
            <th>Email</th>
            <th>Photo</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        {% if registrations %}
            {% for user in registrations %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% if user.photo %}
                            <img src="{{ user.photo.url }}" alt="User Photo" width="50" height="50">
                        {% else %}
                            No photo uploaded
                        {% endif %}
                    </td>
                    <td>
                        <button class="btn-success btn"><a href="{%url 'update' user.id%}" class="text-white nav-link">Update</a></button>
                    </td>
                    <td>
                        <button class="btn-danger btn"><a href="{% url 'delete' user.id %}" class="text-white nav-link">Delete</a></button>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="4">No users found.</td>
            </tr>
        {% endif %}
    </tbody>
</table>
{% endblock %}
